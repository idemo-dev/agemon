<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Feb 11, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #4285 | 2:55 PM | ðŸ”µ | Agemon Product Design Document | ~666 |
</claude-mem-context>

# Agemon - Project Instructions

## Overview
Agemon (AgentMonster) is a CLI tool that scans AI development environment config files and visualizes them as pixel art monster characters. Each command file and MCP server becomes an individual Agemon with stats, moves, and types. Users are "Trainers" who manage a party of Agemon.

## Tech Stack
- **Language**: TypeScript (strict mode)
- **Runtime**: Node.js 18+
- **CLI**: commander.js + tsup build
- **Web UI**: React 19 + Tailwind CSS 4 + Vite 7
- **Character Rendering**: Canvas API pixel art (programmatic)
- **Testing**: Vitest
- **Package Manager**: npm
- **Share Cards**: node-canvas (optional, for PNG export)

## Architecture
```
src/
  cli/            # CLI entry point, scanner orchestration, local server
    scanners/     # Individual scanner modules (base-knowledge, commands, mcp, hooks, common)
  engine/         # Scoring, evolution, type system, naming, moves, profile-builder, trainer
  pixel/          # Pixel art system (palette, parts, sprite-generator, renderer, animation)
  share/          # Share card PNG generation
  ui/             # React dashboard (Vite-served, light theme)
    components/   # PartyTab, SearchTab, AgemonList, AgemonDetail, PixelMonster, RadarChart, MoveCard, etc.
tests/            # Vitest test files
```

## Key Conventions
- All source code in `src/`, tests in `tests/`
- CLI builds with tsup -> `dist/cli/`
- UI builds with Vite -> `dist/ui/`
- Types defined in `src/engine/types.ts` (single source of truth)
- Scanner modules are pure functions: take path, return typed data
- One Agemon per command file, one per MCP server
- Scoring engine is deterministic: same input -> same output
- Profile builder orchestrates: score + moves + naming + types + evolution
- Web UI receives data via local HTTP API (Express on port 3333)

## Design Principles
- **Local-Only**: Scan data never leaves the machine
- **Read-Only**: Never modify user's config files
- **Non-Invasive**: Works via npx, zero permanent installation
- **Multi-Agemon**: Each command/MCP = individual Agemon with own progression
- **Trainer System**: User manages a party of Agemon
- **Moves System**: Config capabilities become game techniques
- **Pixel Art**: Canvas API, 16-color palette, evolution-stage-based sizes
- **Light Theme**: White background, pop & clean, Pokemon-inspired

## CLI Commands
- `npx agemon` â€” scan + open dashboard in browser
- `npx agemon scan` â€” terminal summary (trainer + all agemon)
- `npx agemon list` â€” agemon table (name, type, level)
- `npx agemon show <name>` â€” single agemon detail
- `npx agemon share` â€” trainer card PNG
- `npx agemon share <name>` â€” agemon card PNG
- `--json` â€” JSON output (DashboardData)
- `--port <port>` â€” custom dashboard port

## Dev Commands
- `npm run dev` - Run CLI in dev mode (tsx)
- `npm run dev:ui` - Start Vite dev server for UI
- `npm run build` - Build both CLI and UI
- `npm run test` - Run all tests
- `npm run typecheck` - TypeScript type checking

## Testing Strategy
- Unit tests for scanners with mock filesystem fixtures
- Unit tests for scoring engine, moves, naming, type-system
- Unit tests for sprite generator (determinism, palette validity)
- Integration tests for profile-builder and trainer
- TDD approach: write test -> implement -> refactor